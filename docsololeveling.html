<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Đọc Truyện - Solo Leveling (Ss3) - Chương 1</title>
    <style>
        :root {
            --primary-color: #e74c3c;
            --secondary-color: #3498db;
            --accent-color: #f39c12; 
            --text-color: #2c3e50;
            --bg-color: #222; /* Nền tối cho trang đọc */
            --control-bg: #34495e;
            --control-hover: #2980b9;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: #ccc;
            line-height: 1.6;
            text-align: center;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            flex-grow: 1;
            text-align: center;
            margin: 0;
        }
        
        .header h1 a {
            color: white;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header .logo-img {
            height: 25px; 
            width: 25px;
            border-radius: 50%;
            margin-right: 10px;
            background-color: white;
            padding: 2px;
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-shrink: 0;
        }
        
        .controls button, .controls select {
            background-color: var(--control-bg);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        .controls button:hover:not(:disabled), .controls select:hover {
            background-color: var(--control-hover);
        }

        .controls button:disabled {
            background-color: #555;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        #chapterSelector {
            min-width: 120px; 
            text-align: center;
        }

        .chapter-images {
            max-width: 1000px;
            margin: 0 auto;
            padding: 10px 0;
        }

        .chapter-images img {
            width: 100%;
            height: auto;
            display: block;
            margin-bottom: 5px; 
            border-radius: 2px;
        }

        .loading-text {
            color: white;
            padding: 100px 50px;
            font-size: 1.5em;
        }
        
        .footer-controls .controls {
            padding: 15px;
            background-color: #333;
            border-radius: 8px;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.3);
        }
        .footer-controls {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        /* Tối ưu cho di động */
        @media (max-width: 768px) {
            .header {
                padding: 10px;
                flex-direction: column;
                position: sticky;
                top: 0;
            }
            .header h1 {
                order: -1;
                margin-bottom: 10px;
            }
            .controls {
                width: 100%; 
                justify-content: space-around;
                gap: 5px;
            }
            .controls button, .controls select {
                flex-grow: 1; 
                padding: 8px 5px; 
                font-size: 0.9em;
            }
            #chapterSelector {
                max-width: 100px;
            }
            .chapter-images {
                padding: 5px 0;
            }
            .footer-controls {
                padding: 0 10px;
            }
            .footer-controls .controls {
                 flex-direction: column;
            }
            .footer-controls button {
                 margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>

    <div class="header">
        <h1><a href="index.html" title="Trang Chủ">
            <img src="https://tse3.mm.bing.net/th/id/OIP.cKSMURMSurJhuoPb3_JJMAHaHa?pid=Api&P=0&h=180" alt="Logo" class="logo-img">
            Solo Leveling Ss3
        </a></h1>
        
        <div class="controls">
            <button id="prevChapterBtn" onclick="navigateChapter(-1)" disabled>
                &larr; Trước
            </button>
            
            <select id="chapterSelector" onchange="jumpToChapter(this.value)">
                </select>
            
            <button id="nextChapterBtn" onclick="navigateChapter(1)">
                Sau &rarr;
            </button>
        </div>
    </div>

    <div id="reader-content" class="chapter-images">
        <p class="loading-text">Đang tải nội dung chương...</p>
    </div>

    <div class="footer-controls">
        <div class="controls">
            <button id="prevChapterBtnBottom" onclick="navigateChapter(-1)" disabled>
                &larr; Chương Trước
            </button>
            <button onclick="window.location.href='index.html#detail/' + currentStory.id" style="background-color: var(--accent-color);">
                Danh Sách Chương
            </button>
            <button id="nextChapterBtnBottom" onclick="navigateChapter(1)">
                Chương Sau &rarr;
            </button>
        </div>
    </div>


    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const storyIdParam = urlParams.get('story');
        let currentChapterNum = parseInt(urlParams.get('chapter') || '1');

        const SLS3_DATA = {
            id: 'SLS3-1',
            title: 'Solo Leveling (Ss3)',
            thumb: 'https://mangatruyenviet.com/rw/solo-leveling-ss3/cover.jpg', 
            genres: ['Hành Động', 'Fantasy', 'Webtoon'],
            description: 'Phần 3 của Solo Leveling, tiếp tục câu chuyện về thợ săn E-rank Sung Jinwoo.',
            status: 'Đang cập nhật',
            maxChapters: 1 
        };
        
        const STORY_INDEX = [SLS3_DATA]; 
        const currentStory = STORY_INDEX.find(s => s.id === storyIdParam);
        
        const CHAPTER_DATA = {
            'SLS3-1_1': [
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/1.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/2.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/3.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/4.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/5.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/6.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/7.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/8.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/9.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/10.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/11.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/12.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/13.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/14.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/15.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/16.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/17.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/18.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/19.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/20.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/21.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/22.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/23.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/24.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/25.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/26.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/27.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/28.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/29.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/30.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/31.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/32.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/33.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/34.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/35.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/36.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/37.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/38.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/39.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/40.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/41.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/42.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/43.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/44.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/45.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/46.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/47.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/48.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/49.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/50.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/51.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/52.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/53.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/54.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/55.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/56.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/57.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/58.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/59.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/60.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/61.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/62.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/63.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/64.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/65.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/66.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/67.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/68.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/69.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/70.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/71.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/72.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/73.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/74.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/75.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/76.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/77.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/78.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/79.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/80.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/81.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/82.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/83.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/84.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/85.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/86.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/87.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/88.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/89.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/90.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/91.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/92.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/93.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/94.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/95.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/96.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/97.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/98.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/99.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/100.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/101.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/102.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/103.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/104.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/105.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/106.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/107.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/108.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/109.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/110.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/111.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/112.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/113.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/114.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/115.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/116.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/117.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/118.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/119.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/120.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/121.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/122.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/123.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/124.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/125.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/126.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/127.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/128.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/129.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/130.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/131.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/132.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/133.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/134.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/135.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/136.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/137.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/138.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/139.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/140.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/141.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/142.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/143.jpg',
                'https://mangatruyenviet.com/rw/solo-leveling-ss3/chapter-1/144.jpg'
            ]
        };

        const readerContent = document.getElementById('reader-content');
        const chapterSelector = document.getElementById('chapterSelector');
        const prevBtn = document.getElementById('prevChapterBtn');
        const nextBtn = document.getElementById('nextChapterBtn');
        const prevBtnBottom = document.getElementById('prevChapterBtnBottom');
        const nextBtnBottom = document.getElementById('nextChapterBtnBottom');


        function initChapterSelector() {
            if (!currentStory) return;

            chapterSelector.innerHTML = '';
            for (let i = 1; i <= currentStory.maxChapters; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `Chương ${i}`;
                chapterSelector.appendChild(option);
            }
            chapterSelector.value = currentChapterNum;
        }

        function updateNavigation() {
            if (!currentStory) return;

            const max = currentStory.maxChapters;
            const isFirst = currentChapterNum <= 1;
            const isLast = currentChapterNum >= max;

            prevBtn.disabled = isFirst;
            prevBtnBottom.disabled = isFirst;
            nextBtn.disabled = isLast;
            nextBtnBottom.disabled = isLast;
        }

        function navigateChapter(direction) {
            const newChapterNum = currentChapterNum + direction;
            if (newChapterNum >= 1 && newChapterNum <= currentStory.maxChapters) {
                jumpToChapter(newChapterNum);
            }
        }

        function jumpToChapter(chapterNum) {
            chapterNum = parseInt(chapterNum);
            if (isNaN(chapterNum) || chapterNum < 1 || chapterNum > currentStory.maxChapters) return;

            currentChapterNum = chapterNum;
            // Cần sửa lại URL khi chuyển chương, vì file đọc là docsololeveling.html
            history.pushState(null, '', `?story=${currentStory.id}&chapter=${currentChapterNum}`);
            loadChapter();
            chapterSelector.value = currentChapterNum;
        }

        function loadChapter() {
            if (!currentStory) {
                readerContent.innerHTML = '<p class="loading-text" style="color: var(--primary-color);">Không tìm thấy dữ liệu truyện. Vui lòng quay lại trang chủ.</p>';
                document.getElementById('page-title').textContent = 'Lỗi Truyện';
                return;
            }

            const chapterKey = `${currentStory.id}_${currentChapterNum}`;
            const images = CHAPTER_DATA[chapterKey];
            
            if (!images || images.length === 0) {
                readerContent.innerHTML = `<p class="loading-text">Chương ${currentChapterNum} chưa có dữ liệu. Vui lòng chọn chương khác.</p>`;
                document.getElementById('page-title').textContent = `${currentStory.title} - Chương ${currentChapterNum} | Chưa có dữ liệu`;
                updateNavigation();
                return;
            }

            document.getElementById('page-title').textContent = `${currentStory.title} - Chương ${currentChapterNum}`;

            readerContent.innerHTML = '';
            images.forEach(src => {
                const img = document.createElement('img');
                img.src = src;
                img.alt = `Trang truyện Chương ${currentChapterNum}`;
                readerContent.appendChild(img);
            });

            window.scrollTo(0, 0); 
            updateNavigation();
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (currentStory) {
                initChapterSelector();
                loadChapter();
            } else {
                 readerContent.innerHTML = '<p class="loading-text" style="color: var(--primary-color);">Không tìm thấy dữ liệu truyện. Vui lòng quay lại trang chủ.</p>';
            }
        });
    </script>
</body>
</html>
